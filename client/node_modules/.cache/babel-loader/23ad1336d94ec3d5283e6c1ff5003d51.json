{"ast":null,"code":"var _jsxFileName = \"/home/blu/Documentos/OI/prep_henry/projects/work_challengues/goPass/gopass/client/src/components/UserForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Button, Card, CardContent, Grid, TextField, Typography, CircularProgress } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TaskForm = () => {\n  _s();\n\n  const [user, setUser] = useState({\n    name: '',\n    email: '',\n    password: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const navigate = useNavigate();\n  const params = useParams();\n  useEffect(() => {\n    if (params.id) {\n      cargarUser(params.id);\n    }\n  }, [params.id]);\n\n  const cargarUser = async id => {\n    const res = await fetch(\"http://localhost:4000/users/\" + id);\n    const data = await res.json();\n    setUser({\n      name: data.name,\n      email: data.email,\n      password: data.password\n    });\n    setEditing(true);\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setLoading(true);\n\n    try {\n      if (editing) {\n        const response = await fetch(\"http://localhost:4000/users/\" + params.id, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(user)\n        });\n        await response.json();\n      } else {\n        const response = await fetch(\"http://localhost:4000/users\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(user)\n        });\n        await response.json();\n      }\n\n      setLoading(false);\n      navigate(\"/\");\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleChange = e => setUser({ ...user,\n    [e.target.name]: e.target.value\n  });\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    alignItems: \"center\",\n    direction: \"column\",\n    justifyContent: \"center\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 3,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mt: 5\n        },\n        style: {\n          backgroundColor: \"#1E272E\",\n          padding: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          textAlign: \"center\",\n          color: \"white\",\n          children: editing ? \"Update User\" : \"Create User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"filled\",\n              label: \"Name\",\n              sx: {\n                display: \"block\",\n                margin: \".5rem 0\"\n              },\n              name: \"name\",\n              onChange: handleChange,\n              value: user.name,\n              inputProps: {\n                style: {\n                  color: \"white\"\n                }\n              },\n              InputLabelProps: {\n                style: {\n                  color: \"white\"\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"filled\",\n              label: \"Email\",\n              sx: {\n                display: 'block',\n                margin: '.5rem 0'\n              },\n              name: \"email\",\n              value: user.email,\n              onChange: handleChange,\n              inputProps: {\n                style: {\n                  color: 'white'\n                }\n              },\n              InputLabelProps: {\n                style: {\n                  color: 'white'\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"filled\",\n              label: \"Password\",\n              sx: {\n                display: 'block',\n                margin: '.5rem 0'\n              },\n              name: \"password\",\n              value: user.password,\n              onChange: handleChange,\n              inputProps: {\n                style: {\n                  color: 'white'\n                }\n              },\n              InputLabelProps: {\n                style: {\n                  color: 'white'\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"primary\",\n              disabled: !user.name || !user.email || !user.password,\n              children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                color: \"inherit\",\n                size: 25\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this) : \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TaskForm, \"FysYdihccu3b/uglwQ9xaMNQJa0=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = TaskForm;\nexport default TaskForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskForm\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","Button","Card","CardContent","Grid","TextField","Typography","CircularProgress","TaskForm","user","setUser","name","email","password","loading","setLoading","editing","setEditing","navigate","params","id","cargarUser","res","fetch","data","json","handleSubmit","event","preventDefault","response","method","headers","body","JSON","stringify","error","console","handleChange","e","target","value","mt","backgroundColor","padding","display","margin","style","color"],"sources":["/home/blu/Documentos/OI/prep_henry/projects/work_challengues/goPass/gopass/client/src/components/UserForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nimport {\n  Button,\n  Card,\n  CardContent,\n  Grid,\n  TextField,\n  Typography,\n  CircularProgress,\n} from \"@mui/material\";\n\nconst TaskForm = () => {\n  \tconst [user, setUser] = useState({\n\t\tname:'',\n\t\temail:'',\n\t\tpassword:''\n\t});\n  const [loading, setLoading] = useState(false);\n  const [editing, setEditing] = useState(false);\n\n  const navigate = useNavigate();\n  const params = useParams();\n\n  \tuseEffect(() => {\n    if (params.id) {\n      cargarUser(params.id);\n    }\n  }, [params.id]);\n\n\tconst cargarUser = async (id) => {\n    const res = await fetch(\"http://localhost:4000/users/\" + id);\n    const data = await res.json();\n    setUser({ name: data.name, email: data.email, password: data.password });\n    setEditing(true);\n  };\n\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setLoading(true);\n    try {\n      if (editing) {\n        const response = await fetch(\n          \"http://localhost:4000/users/\" + params.id,\n          {\n            method: \"PUT\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify(user),\n          }\n        );\n        await response.json();\n      } else {\n        const response = await fetch(\"http://localhost:4000/users\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(user),\n        });\n        await response.json();\n      }\n\n      setLoading(false);\n      navigate(\"/\");\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleChange = (e) =>\n    setUser({ ...user, [e.target.name]: e.target.value });\n\n  return (\n    <Grid\n      container\n      alignItems=\"center\"\n      direction=\"column\"\n      justifyContent=\"center\"\n    >\n      <Grid item xs={3}>\n        <Card\n          sx={{ mt: 5 }}\n          style={{\n            backgroundColor: \"#1E272E\",\n            padding: \"1rem\",\n          }}\n        >\n          <Typography variant=\"h5\" textAlign=\"center\" color=\"white\">\n            {editing ? \"Update User\" : \"Create User\"}\n          </Typography>\n          <CardContent>\n            <form onSubmit={handleSubmit}>\n              <TextField\n                variant=\"filled\"\n                label=\"Name\"\n                sx={{\n                  display: \"block\",\n                  margin: \".5rem 0\",\n                }}\n                name=\"name\"\n                onChange={handleChange}\n                value={user.name}\n                inputProps={{ style: { color: \"white\" } }}\n                InputLabelProps={{ style: { color: \"white\" } }}\n              />\n              <TextField \n        \t\t\t\tvariant='filled'\n        \t\t\t\tlabel='Email'\n        \t\t\t\tsx={{\n        \t\t\t\t\tdisplay:'block',\n        \t\t\t\t\tmargin:'.5rem 0'\n        \t\t\t\t}}\n        \t\t\t\tname='email'\n        \t\t\t\tvalue={user.email}\n        \t\t\t\tonChange={handleChange}\n        \t\t\t\tinputProps={{style:{color:'white'}}}\n        \t\t\t\tInputLabelProps={{style:{color:'white'}}}\n        \t\t\t\t/>\n        \t\t\t  <TextField \n        \t\t\t\tvariant='filled'\n        \t\t\t\tlabel='Password'\n        \t\t\t\tsx={{\n        \t\t\t\t\tdisplay:'block',\n        \t\t\t\t\tmargin:'.5rem 0'\n        \t\t\t\t}} \n        \t\t\t    name='password'\n        \t\t\t\tvalue={user.password}\n        \t\t\t\tonChange={handleChange}\n        \t\t\t\tinputProps={{style:{color:'white'}}}\n        \t\t\t\tInputLabelProps={{style:{color:'white'}}} \t\n        \t\t\t\t/>\n\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={!user.name || !user.email || !user.password}\n              >\n                {loading ? (\n                  <CircularProgress color=\"inherit\" size={25} />\n                ) : (\n                  \"Save\"\n                )}\n              </Button>\n            </form>\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default TaskForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}