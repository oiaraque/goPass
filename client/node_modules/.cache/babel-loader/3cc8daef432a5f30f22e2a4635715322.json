{"ast":null,"code":"var _jsxFileName = \"/home/blu/Documentos/OI/prep_henry/projects/work_challengues/goPass/gopass/client/src/components/UserForm.jsx\",\n    _s = $RefreshSig$();\n\nimport { Grid, Card, Typography, CardContent, TextField, Button, CircularProgress } from '@mui/material';\nimport { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserForm() {\n  _s();\n\n  const navigate = useNavigate();\n  const params = useParams();\n  const [loading, setLoading] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [user, setUser] = useState({\n    Nombre: '',\n    Email: '',\n    Password: ''\n  });\n  useEffect(() => {\n    if (params.id) {\n      cargarUser(params.id);\n    }\n  }, [params.id]);\n\n  const cargarUser = async id => {\n    const res = await fetch(\"http://localhost:4000/users/\" + id);\n    const data = await res.json();\n    setUser({\n      nombre: data.name,\n      email: data.email,\n      password: data.password\n    });\n    setEditing(true);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      if (editing) {\n        const response = await fetch(\"http://localhost:4000/users/\" + params.id, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(user)\n        });\n        await response.json();\n      } else {\n        const result = await fetch('https://localhost:4000/users', {\n          method: 'POST',\n          body: JSON.stringify(user),\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        await result.json();\n      }\n\n      setLoading(false);\n      navigate(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    direction: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 3,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mt: 5\n        },\n        style: {\n          backgroundColor: '#1e272e',\n          padding: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"filled\",\n          textAlign: \"center\",\n          color: \"white\",\n          children: editing ? \"Editar User\" : \"Create User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"filled\",\n              label: \"Nombre\",\n              sx: {\n                display: 'block',\n                margin: '.5rem 0'\n              },\n              name: \"nombre\",\n              value: user.name,\n              onChange: handleChange,\n              inputProps: {\n                style: {\n                  color: 'white'\n                }\n              },\n              InputLabelProps: {\n                style: {\n                  color: 'white'\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"filled\",\n              label: \"Email\",\n              sx: {\n                display: 'block',\n                margin: '.5rem 0'\n              },\n              name: \"email\",\n              value: user.email,\n              onChange: handleChange,\n              inputProps: {\n                style: {\n                  color: 'white'\n                }\n              },\n              InputLabelProps: {\n                style: {\n                  color: 'white'\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"filled\",\n              label: \"Password\",\n              sx: {\n                display: 'block',\n                margin: '.5rem 0'\n              },\n              name: \"password\",\n              value: user.password,\n              onChange: handleChange,\n              inputProps: {\n                style: {\n                  color: 'white'\n                }\n              },\n              InputLabelProps: {\n                style: {\n                  color: 'white'\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              type: \"submit\",\n              disabled: !user.name || !user.email || !user.password,\n              children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                color: \"inherit\",\n                size: 25\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 10\n              }, this) : \"Guardar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 3\n  }, this);\n}\n\n_s(UserForm, \"XJK0Ft1BiDOIckOWdLXl4tLW4sI=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = UserForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserForm\");","map":{"version":3,"names":["Grid","Card","Typography","CardContent","TextField","Button","CircularProgress","useState","useEffect","useNavigate","useParams","UserForm","navigate","params","loading","setLoading","editing","setEditing","user","setUser","Nombre","Email","Password","id","cargarUser","res","fetch","data","json","nombre","name","email","password","handleSubmit","e","preventDefault","response","method","headers","body","JSON","stringify","result","error","console","log","handleChange","target","value","mt","backgroundColor","padding","display","margin","style","color"],"sources":["/home/blu/Documentos/OI/prep_henry/projects/work_challengues/goPass/gopass/client/src/components/UserForm.jsx"],"sourcesContent":["import { \n\tGrid,\n\tCard,\n\tTypography,\n\tCardContent,\n\tTextField,\n\tButton,\n\tCircularProgress\n} from '@mui/material';\nimport { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\n\nexport default function UserForm() {\n\n\tconst navigate = useNavigate();\n\tconst params = useParams();\n\tconst [loading, setLoading] = useState(false);\n  \tconst [editing, setEditing] = useState(false); \n\tconst [user, setUser] = useState({\n\t\tNombre:'',\n\t\tEmail:'',\n\t\tPassword:''\n\t});\n\n\tuseEffect(() => {\n    if (params.id) {\n      cargarUser(params.id);\n    }\n  }, [params.id]);\n\n\tconst cargarUser = async (id) => {\n    const res = await fetch(\"http://localhost:4000/users/\" + id);\n    const data = await res.json();\n    setUser({ nombre: data.name, email: data.email, password: data.password });\n    setEditing(true);\n  };\n\n\tconst handleSubmit = async(e) =>{\n\t\te.preventDefault();\n\t\tsetLoading(true);\n\t\ttry{\n\t\t\tif(editing){\n\t\t\tconst response = await fetch(\n          \t\"http://localhost:4000/users/\" + params.id,\n          {\n            method: \"PUT\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify(user),\n          }\n        );\n        await response.json();\t\n\t\t\t} else {\n\t\t\tconst result = await fetch('https://localhost:4000/users', {\n\t\t\tmethod:'POST',\n\t\t\tbody: JSON.stringify(user),\n\t\t\theaders:{\"Content-Type\": \"application/json\"}\n\t\t})\n\t\tawait result.json()\t\n\t\t\t}\n\t\t\t setLoading(false);\n      \t\t navigate(\"/\");\n\t\t} catch(error){\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\tconst handleChange = (e) =>{\n\t\tsetUser({...user, [e.target.name] : e.target.value})\n\t}\n\n\treturn (\n\t\t<Grid container \n\t\t\t  direction=\"column\"\n\t\t\t  alignItems=\"center\"\n\t\t\t  justifyContent=\"center\"\n\t\t\t  >\n\t\t\t<Grid item xs={3}>\n\t\t\t\t<Card \n\t\t\t\t sx={{mt:5}}\n\t\t\t\t style={{\n\t\t\t\t \tbackgroundColor:'#1e272e',\n\t\t\t\t \tpadding:'1rem'\n\t\t\t\t }}\n\t\t\t\t>\n\t\t\t\t\t<Typography \n\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\ttextAlign='center'\n\t\t\t\t\t\tcolor='white'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{editing? \"Editar User\" : \"Create User\"}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\t\t\tlabel='Nombre'\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tdisplay:'block',\n\t\t\t\t\t\t\t\t\tmargin:'.5rem 0'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tname='nombre'\n\t\t\t\t\t\t\t\tvalue={user.name}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tinputProps={{style:{color:'white'}}}\n\t\t\t\t\t\t\t\tInputLabelProps={{style:{color:'white'}}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\t\t\tlabel='Email'\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tdisplay:'block',\n\t\t\t\t\t\t\t\t\tmargin:'.5rem 0'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={user.email}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tinputProps={{style:{color:'white'}}}\n\t\t\t\t\t\t\t\tInputLabelProps={{style:{color:'white'}}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tdisplay:'block',\n\t\t\t\t\t\t\t\t\tmargin:'.5rem 0'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={user.password}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tinputProps={{style:{color:'white'}}}\n\t\t\t\t\t\t\t\tInputLabelProps={{style:{color:'white'}}} \t\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\tdisabled={!user.name || !user.email || !user.password}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{loading? (\n\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={25} />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\"Guardar\"\t\n\t\t\t\t\t\t\t\t)}\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}